{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef } from \"react\";\nimport TodoItem from './TodoItem';\nimport useTodo from './useTodo';\nexport default function useInput() {\n  _s();\n\n  const [value, setValue] = useState(\"\");\n  const {\n    id,\n    todos,\n    setTodos\n  } = useTodo();\n  const [checked, setChecked] = useState(id => {\n    todos.map(todo => {\n      if (todo.id !== id) return todo;\n      setChecked(todo.isDone);\n    });\n  });\n\n  const handleInputChange = e => {\n    setValue(e.target.value);\n  };\n\n  const handleEnterKeyPress = e => {\n    if (e.key === 'Enter' && value) {\n      setTodos([{\n        id: id.current,\n        content: value,\n        isDone: false\n      }, ...todos]);\n      console.log(e);\n      e.target.value = ''; // setValue does not work , why?\n\n      id.current++;\n    }\n  };\n\n  const handleDeleteButton = id => {\n    setTodos(todos.filter(todo => todo.id !== id));\n  };\n\n  const handleCheckBox = id => {\n    setTodos(todos.map(todo => {\n      if (todo.id !== id) return todo;\n      return { ...todo,\n        isDone: checked\n      };\n    }));\n  };\n\n  return {\n    value,\n    setValue,\n    id,\n    todos,\n    setTodos,\n    handleInputChange,\n    handleEnterKeyPress,\n    handleDeleteButton,\n    handleCheckBox\n  };\n}\n\n_s(useInput, \"XwMoxXacF2yw2ROgMAHe52d2aiY=\", false, function () {\n  return [useTodo];\n});","map":{"version":3,"sources":["/Users/wuyiheng/Desktop/week21/hw1/my-app/src/useInput.js"],"names":["useState","useEffect","useRef","TodoItem","useTodo","useInput","value","setValue","id","todos","setTodos","checked","setChecked","map","todo","isDone","handleInputChange","e","target","handleEnterKeyPress","key","current","content","console","log","handleDeleteButton","filter","handleCheckBox"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,MAA9B,QAA4C,OAA5C;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,OAAP,MAAoB,WAApB;AAEA,eAAe,SAASC,QAAT,GAAoB;AAAA;;AACjC,QAAM,CAAEC,KAAF,EAASC,QAAT,IAAsBP,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM;AAAEQ,IAAAA,EAAF;AAAMC,IAAAA,KAAN;AAAaC,IAAAA;AAAb,MAA0BN,OAAO,EAAvC;AACA,QAAM,CAAEO,OAAF,EAAWC,UAAX,IAAyBZ,QAAQ,CAAEQ,EAAD,IAAQ;AAC9CC,IAAAA,KAAK,CAACI,GAAN,CAAWC,IAAD,IAAU;AAClB,UAAIA,IAAI,CAACN,EAAL,KAAYA,EAAhB,EAAoB,OAAOM,IAAP;AACpBF,MAAAA,UAAU,CAACE,IAAI,CAACC,MAAN,CAAV;AACD,KAHD;AAID,GALsC,CAAvC;;AAOA,QAAMC,iBAAiB,GAAIC,CAAD,IAAO;AAC/BV,IAAAA,QAAQ,CAACU,CAAC,CAACC,MAAF,CAASZ,KAAV,CAAR;AACD,GAFD;;AAIA,QAAMa,mBAAmB,GAAIF,CAAD,IAAO;AACjC,QAAGA,CAAC,CAACG,GAAF,KAAS,OAAT,IAAoBd,KAAvB,EAA6B;AAC3BI,MAAAA,QAAQ,CAAC,CACP;AACEF,QAAAA,EAAE,EAAEA,EAAE,CAACa,OADT;AAEEC,QAAAA,OAAO,EAAEhB,KAFX;AAGES,QAAAA,MAAM,EAAE;AAHV,OADO,EAMP,GAAGN,KANI,CAAD,CAAR;AAQAc,MAAAA,OAAO,CAACC,GAAR,CAAYP,CAAZ;AACAA,MAAAA,CAAC,CAACC,MAAF,CAASZ,KAAT,GAAiB,EAAjB,CAV2B,CAW3B;;AACAE,MAAAA,EAAE,CAACa,OAAH;AACD;AACF,GAfD;;AAiBA,QAAMI,kBAAkB,GAAIjB,EAAD,IAAQ;AACjCE,IAAAA,QAAQ,CAACD,KAAK,CAACiB,MAAN,CAAcZ,IAAD,IAAUA,IAAI,CAACN,EAAL,KAAYA,EAAnC,CAAD,CAAR;AACD,GAFD;;AAIA,QAAMmB,cAAc,GAAInB,EAAD,IAAQ;AAC7BE,IAAAA,QAAQ,CACND,KAAK,CAACI,GAAN,CAAWC,IAAD,IAAU;AAClB,UAAIA,IAAI,CAACN,EAAL,KAAYA,EAAhB,EAAoB,OAAOM,IAAP;AACpB,aAAO,EACL,GAAGA,IADE;AAELC,QAAAA,MAAM,EAAEJ;AAFH,OAAP;AAID,KAND,CADM,CAAR;AASD,GAVD;;AAaA,SAAQ;AACJL,IAAAA,KADI;AAEJC,IAAAA,QAFI;AAGJC,IAAAA,EAHI;AAIJC,IAAAA,KAJI;AAKJC,IAAAA,QALI;AAMJM,IAAAA,iBANI;AAOJG,IAAAA,mBAPI;AAQJM,IAAAA,kBARI;AASJE,IAAAA;AATI,GAAR;AAYD;;GA5DuBtB,Q;UAEUD,O","sourcesContent":["import { useState, useEffect, useRef } from \"react\";\nimport TodoItem from './TodoItem';\nimport useTodo from './useTodo';\n\nexport default function useInput() {\n  const [ value, setValue ] = useState(\"\")\n  const { id, todos, setTodos } = useTodo()\n  const [ checked, setChecked] = useState((id) => {\n    todos.map((todo) => {\n      if (todo.id !== id) return todo;\n      setChecked(todo.isDone);\n    })\n  })\n  \n  const handleInputChange = (e) => {\n    setValue(e.target.value)\n  }\n\n  const handleEnterKeyPress = (e) => {\n    if(e.key ==='Enter' && value){\n      setTodos([\n        {\n          id: id.current,\n          content: value,\n          isDone: false\n        },\n        ...todos,\n      ]);\n      console.log(e)\n      e.target.value = ''\n      // setValue does not work , why?\n      id.current++\n    }\n  }\n\n  const handleDeleteButton = (id) => {\n    setTodos(todos.filter((todo) => todo.id !== id ))\n  }\n\n  const handleCheckBox = (id) => {\n    setTodos(\n      todos.map((todo) => {\n        if (todo.id !== id) return todo;\n        return {\n          ...todo,\n          isDone: checked,\n        };\n      })\n    );\n  };\n\n\n  return ({\n      value, \n      setValue,\n      id, \n      todos, \n      setTodos,\n      handleInputChange,\n      handleEnterKeyPress,\n      handleDeleteButton,\n      handleCheckBox\n    }\n  )\n}"]},"metadata":{},"sourceType":"module"}