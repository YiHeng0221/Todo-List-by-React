{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef } from \"react\";\n\nfunction setTodoToLocal(todos) {\n  window.localStorage.setItem(\"todos\", JSON.stringify(todos));\n}\n\nexport default function useTodo() {\n  _s();\n\n  const id = useRef(1);\n  const [todos, setTodos] = useState(() => {\n    let todoData = window.localStorage.getItem(\"todos\");\n\n    if (todoData) {\n      todoData = JSON.parse(todoData);\n\n      if (todoData[0] !== undefined) {\n        id.current = todoData[0].id + 1;\n      }\n    } else {\n      todoData = [];\n    }\n\n    return todoData;\n  });\n  useEffect(() => {\n    setTodoToLocal(todos);\n  }, [todos]);\n  return {\n    id,\n    todos,\n    setTodos\n  };\n}\n\n_s(useTodo, \"XizTBVb2WCBuuXao3cuesFyNgVE=\");","map":{"version":3,"sources":["/Users/wuyiheng/Desktop/week21/hw1/my-app/src/useTodo.js"],"names":["useState","useEffect","useRef","setTodoToLocal","todos","window","localStorage","setItem","JSON","stringify","useTodo","id","setTodos","todoData","getItem","parse","undefined","current"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,MAA9B,QAA4C,OAA5C;;AAEA,SAASC,cAAT,CAAwBC,KAAxB,EAA+B;AAC7BC,EAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,EAAqCC,IAAI,CAACC,SAAL,CAAeL,KAAf,CAArC;AACD;;AAED,eAAe,SAASM,OAAT,GAAmB;AAAA;;AAChC,QAAMC,EAAE,GAAGT,MAAM,CAAC,CAAD,CAAjB;AACA,QAAM,CAACE,KAAD,EAAQQ,QAAR,IAAoBZ,QAAQ,CAAC,MAAM;AACvC,QAAIa,QAAQ,GAAGR,MAAM,CAACC,YAAP,CAAoBQ,OAApB,CAA4B,OAA5B,CAAf;;AACA,QAAID,QAAJ,EAAc;AACZA,MAAAA,QAAQ,GAAGL,IAAI,CAACO,KAAL,CAAWF,QAAX,CAAX;;AACA,UAAIA,QAAQ,CAAC,CAAD,CAAR,KAAgBG,SAApB,EAA+B;AAC7BL,QAAAA,EAAE,CAACM,OAAH,GAAaJ,QAAQ,CAAC,CAAD,CAAR,CAAYF,EAAZ,GAAiB,CAA9B;AACD;AACF,KALD,MAKO;AACLE,MAAAA,QAAQ,GAAG,EAAX;AACD;;AACF,WAAOA,QAAP;AACA,GAXiC,CAAlC;AAaAZ,EAAAA,SAAS,CAAC,MAAM;AACdE,IAAAA,cAAc,CAACC,KAAD,CAAd;AACD,GAFQ,EAEN,CAACA,KAAD,CAFM,CAAT;AAIA,SAAO;AACLO,IAAAA,EADK;AAELP,IAAAA,KAFK;AAGLQ,IAAAA;AAHK,GAAP;AAKD;;GAxBuBF,O","sourcesContent":["import { useState, useEffect, useRef } from \"react\";\n\nfunction setTodoToLocal(todos) {\n  window.localStorage.setItem(\"todos\", JSON.stringify(todos));\n}\n\nexport default function useTodo() {\n  const id = useRef(1); \n  const [todos, setTodos] = useState(() => {\n    let todoData = window.localStorage.getItem(\"todos\");\n    if (todoData) {\n      todoData = JSON.parse(todoData);\n      if (todoData[0] !== undefined) {\n        id.current = todoData[0].id + 1;\n      }\n    } else {\n      todoData = [];\n    }\n   return todoData\n  });\n\n  useEffect(() => {\n    setTodoToLocal(todos);\n  }, [todos]); \n\n  return {\n    id,\n    todos,\n    setTodos,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}